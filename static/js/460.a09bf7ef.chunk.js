"use strict";(self.webpackChunksocial_network_react=self.webpackChunksocial_network_react||[]).push([[460],{460:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var o=e(1413),n=e(5671),i=e(3144),a=e(136),r=e(8347),u=e(2791),d={},l=e(1478),p=e(7326),c=e(184),D=function(t){(0,a.Z)(e,t);var s=(0,r.Z)(e);function e(){var t;(0,n.Z)(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=s.call.apply(s,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){console.log("this",(0,p.Z)(t)),t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,i.Z)(e,[{key:"componentDidUpdate",value:function(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,c.jsxs)("div",{style:{display:"flex"},children:["status:",!this.state.editMode&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"no status"})}),this.state.editMode&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status||""})})]})}}]),e}(u.Component),B=u.memo((function(t){return t.profile?(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:"https://www.designmantic.com/blog/wp-content/uploads/2013/09/Logo-Unique-718x300.jpg"}),(0,c.jsx)(D,{status:t.status,updateStatus:t.updateStatus})]}),(0,c.jsxs)("div",{className:d.descriptionBlock,children:[(0,c.jsx)("p",{children:t.profile.aboutMe}),(0,c.jsx)("p",{children:t.profile.userId}),(0,c.jsx)("img",{src:t.profile.photos.large,alt:t.profile.photos.large}),"ava + description"]})]}):(0,c.jsx)(l.p,{})})),h=e(81),f="myPost_postsBlock__dHh7S",j="myPost_posts__GuGAe",v=e(885),x=function(t){var s=(0,u.useState)(!0),e=(0,v.Z)(s,2);e[0],e[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{width:"20px",src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek="}),t.message,(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{children:"like"})," ",t.likesCount]})]})},m=e(5705),g=e(3079),y=e(3832),P=u.memo((function(t){return(0,c.jsxs)("div",{className:f,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)(w,{addPost:t.addPost}),(0,c.jsx)("div",{className:j,children:t.posts.map((function(t){return(0,c.jsx)(x,{message:t.message,likesCount:t.likesCount},t.id)}))})]})})),w=function(t){var s=(0,m.TA)({initialValues:{newPostBody:""},validate:function(t){var s={};return(0,g.R)(t.newPostBody)&&(s.newPostBody=(0,g.R)(t.newPostBody)),(0,g.O)(30)(t.newPostBody)&&(s.newPostBody=(0,g.O)(30)(t.newPostBody)),s},onSubmit:function(e){t.addPost(e.newPostBody),s.resetForm()}});return(0,c.jsx)("form",{onSubmit:s.handleSubmit,children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)(y.g,{placeholder:"Enter your message",name:"newPostBody",value:s.values.newPostBody,onChange:s.handleChange,touched:s.touched.newPostBody,errors:s.errors.newPostBody})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"submit",children:"Add post"})})]})})},S=e(364),k=(0,S.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){s&&t((0,h.Wl)(s))}}}))(P),E=e(1523),C=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(B,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)(E.OL,{to:"/profile/".concat(30953),children:"'asdfasdf'"}),(0,c.jsx)(k,{})]})},M=e(9271),b=e(2932),Z=e(7781),A={getProfile:h.Ai,getStatus:h.lR,updateStatus:h.Nf},_=function(t){(0,a.Z)(e,t);var s=(0,r.Z)(e);function e(t){return(0,n.Z)(this,e),s.call(this,t)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t?t=Number(t):(t=this.props.authorizedUserId)||this.props.history.push("/login"),t&&this.props.getProfile(t),t&&this.props.getStatus(t)}},{key:"render",value:function(){return console.log("render PROFILE"),(0,c.jsx)("div",{children:(0,c.jsx)(C,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(u.Component),F=(0,Z.qC)((0,S.$j)((function(t){return console.log("mapStateToProps PROFILE"),{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),A),M.EN,b.D)(_)}}]);
//# sourceMappingURL=460.a09bf7ef.chunk.js.map