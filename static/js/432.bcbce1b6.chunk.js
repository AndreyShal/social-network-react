"use strict";(self.webpackChunksocial_network_react=self.webpackChunksocial_network_react||[]).push([[432],{6432:function(e,t,o){o.r(t),o.d(t,{default:function(){return U}});var s=o(1413),i=o(5671),n=o(3144),r=o(136),a=o(8347),l=o(2791),u=o(885),d=o(5987),c="profileInfo_descriptionBlock__SN6sV",h="profileInfo_mainPhoto__7m-36",p="profileInfo_contact__LqVEX",f=o(1478),D=o(7326),v=o(184),B=function(e){(0,r.Z)(o,e);var t=(0,a.Z)(o);function o(){var e;(0,i.Z)(this,o);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){console.log("this",(0,D.Z)(e)),e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return(0,n.Z)(o,[{key:"componentDidUpdate",value:function(e,t,o){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsx)("b",{children:"status:\xa0"}),!this.state.editMode&&(0,v.jsx)("div",{children:(0,v.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"no status"})}),this.state.editMode&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status||""})})]})}}]),o}(l.Component),j=o(4808),x=o(5705),m=o(3079),b=o(3832),g=function(e){var t=e.profile,o=e.saveProfile,i=e.goToEditMode,n=(0,x.TA)({initialValues:(0,s.Z)({fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe},t.contacts),validate:function(e){var t={};return(0,m.R)(e.fullName)&&(t.fullName=(0,m.R)(e.fullName)),(0,m.O)(30)(e.fullName)&&(t.fullName=(0,m.O)(30)(e.fullName)),(0,m.R)(e.youtube)&&(t.youtube=(0,m.R)(e.youtube)),(0,m.O)(30)(e.youtube)&&(t.youtube=(0,m.O)(30)(e.youtube)),console.log(t),t},onSubmit:function(e){o({fullName:e.fullName,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,contacts:{youtube:e.youtube,facebook:e.facebook,github:e.github,instagram:e.instagram,mainLink:e.mainLink,twitter:e.twitter,website:e.website,vk:e.vk}}),i(!1),n.resetForm()}});return(0,v.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)("button",{onClick:function(){},children:"save"})}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Full name"}),": ",(0,v.jsx)(b.I,(0,s.Z)((0,s.Z)({placeholder:"Full name",type:"text"},n.getFieldProps("fullName")),{},{touched:n.touched.fullName,errors:n.errors.fullName}))]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Looking for a job"}),": ",(0,v.jsx)("input",{type:"checkbox",name:"lookingForAJob",onChange:n.handleChange,checked:n.values.lookingForAJob})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"My professional skills"}),":",(0,v.jsx)(b.g,(0,s.Z)((0,s.Z)({placeholder:"My professional skills"},n.getFieldProps("lookingForAJobDescription")),{},{touched:n.touched.lookingForAJobDescription,errors:n.errors.lookingForAJobDescription}))]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"About me"}),": ",(0,v.jsx)(b.g,(0,s.Z)((0,s.Z)({placeholder:"About me"},n.getFieldProps("aboutMe")),{},{touched:n.touched.aboutMe,errors:n.errors.aboutMe}))]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){var t=n.errors,o=n.touched;return(0,v.jsx)("div",{children:(0,v.jsx)(b.I,(0,s.Z)((0,s.Z)({placeholder:e,type:"text"},n.getFieldProps(e)),{},{touched:o[e],errors:t[e]}))},e)}))]})]})},k=["profile"],y=l.memo((function(e){var t=e.profile,o=(0,d.Z)(e,k),s=(0,l.useState)(!1),i=(0,u.Z)(s,2),n=i[0],r=i[1];if(!t)return(0,v.jsx)(f.p,{});console.log(o.isOwner);var a=function(e){r(e)};return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:"https://www.designmantic.com/blog/wp-content/uploads/2013/09/Logo-Unique-718x300.jpg"})}),(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)("img",{src:t.photos.large||j,alt:t.photos.large,className:h}),o.isOwner&&(0,v.jsx)("input",{type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&o.savePhoto(e.target.files[0])}}),n?(0,v.jsx)(g,{profile:t,saveProfile:o.saveProfile,goToEditMode:a}):(0,v.jsx)(P,{profile:t,isOwner:o.isOwner,goToEditMode:a}),(0,v.jsx)(B,{status:o.status,updateStatus:o.updateStatus})]})]})})),P=function(e){var t=e.profile,o=(e.isOwner,e.goToEditMode);return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{onClick:function(){return o(!0)},children:(0,v.jsx)("button",{children:"edit"})}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){var o=t.contacts[e];return(0,v.jsx)(w,{contactTitle:e,contactValue:o},e)}))]})]})},w=function(e){var t=e.contactTitle,o=e.contactValue;return(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("b",{children:t}),": ",o||""]})},F=o(81),A="myPost_postsBlock__dHh7S",M="myPost_posts__GuGAe",S=function(e){var t=(0,l.useState)(!0),o=(0,u.Z)(t,2);o[0],o[1];return(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{width:"20px",src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek="}),e.message,(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:"like"})," ",e.likesCount]})]})},C=l.memo((function(e){return(0,v.jsxs)("div",{className:A,children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)(E,{addPost:e.addPost}),(0,v.jsx)("div",{className:M,children:e.posts.map((function(e){return(0,v.jsx)(S,{message:e.message,likesCount:e.likesCount},e.id)}))})]})})),E=function(e){var t=(0,x.TA)({initialValues:{newPostBody:""},validate:function(e){var t={};return(0,m.R)(e.newPostBody)&&(t.newPostBody=(0,m.R)(e.newPostBody)),(0,m.O)(30)(e.newPostBody)&&(t.newPostBody=(0,m.O)(30)(e.newPostBody)),t},onSubmit:function(o){e.addPost(o.newPostBody),t.resetForm()}});return(0,v.jsx)("form",{onSubmit:t.handleSubmit,children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)(b.g,{placeholder:"Enter your message",name:"newPostBody",value:t.values.newPostBody,onChange:t.handleChange,touched:t.touched.newPostBody,errors:t.errors.newPostBody})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{type:"submit",children:"Add post"})})]})})},N=o(364),Z=(0,N.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){t&&e((0,F.Wl)(t))}}}))(C),O=o(1523),_=function(e){return(0,v.jsxs)("div",{children:[(0,v.jsx)(y,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,v.jsx)(O.OL,{to:"/profile/".concat(30953),children:"'asdfasdf'"}),(0,v.jsx)(Z,{})]})},J=o(9271),I=o(2932),T=o(7781),L={getProfile:F.Ai,getStatus:F.lR,updateStatus:F.Nf,savePhoto:F.Ju,saveProfile:F.Ii},R=function(e){(0,r.Z)(o,e);var t=(0,a.Z)(o);function o(e){return(0,i.Z)(this,o),t.call(this,e)}return(0,n.Z)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e?e=Number(e):(e=this.props.authorizedUserId)||this.props.history.push("/login"),console.log("userId",e),e&&this.props.getProfile(e),e&&this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return console.log("render PROFILE"),(0,v.jsx)("div",{children:(0,v.jsx)(_,(0,s.Z)((0,s.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),o}(l.Component),U=(0,T.qC)((0,N.$j)((function(e){return console.log("mapStateToProps PROFILE"),{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),L),J.EN,I.D)(R)}}]);
//# sourceMappingURL=432.bcbce1b6.chunk.js.map